



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for Sclera and its plugins">
      
      
        <link rel="canonical" href="https://www.scleradb.com/docs/sdk/sdkextdataaccess/">
      
      
        <meta name="author" content="Sclera, Inc.">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../images/icons/favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Data Access Plugins - Sclera Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,700%7CCourier+Prime&display=fallback">
        <style>body,input{font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Courier Prime","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="manifest" type="application/manifest+json" href="../../../images/icons/site.webmanifest" crossorigin="use-credentials">
    
    
      <link rel="stylesheet" href="../../../css/docs.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-47770601-1", "scleradb.com")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="black" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#building-data-access-connectors" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.scleradb.com/docs" title="Sclera Documentation" aria-label="Sclera Documentation" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../../../images/sclera-logo-square.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Sclera Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Data Access Plugins
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://www.scleradb.com/docs" title="Sclera Documentation" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../../images/sclera-logo-square.png" width="48" height="48">
      
    </a>
    Sclera Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://github.com/scleradb" title="Source Code" class="md-nav__link">
      Source Code
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Documentation Contents" class="md-nav__link">
      Documentation Contents
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Introduction
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Introduction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../intro/whysclera/" title="Why Sclera?" class="md-nav__link">
      Why Sclera?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../intro/faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../intro/technical/" title="Technical Details" class="md-nav__link">
      Technical Details
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/components/" title="Components Reference" class="md-nav__link">
      Components Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/install/" title="Installation Reference" class="md-nav__link">
      Installation Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/dbms/" title="Data Platform Connection Reference" class="md-nav__link">
      Data Platform Connection Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/configuration/" title="Configuration Reference" class="md-nav__link">
      Configuration Reference
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      ScleraSQL
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        ScleraSQL
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/sqlexamples/" title="ScleraSQL Examples" class="md-nav__link">
      ScleraSQL Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/sqlintro/" title="ScleraSQL Introduction" class="md-nav__link">
      ScleraSQL Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/sqlregular/" title="Standard SQL" class="md-nav__link">
      Standard SQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/sqlcrosstab/" title="Using Cross-Tabulation" class="md-nav__link">
      Using Cross-Tabulation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/sqlextordered/" title="Processing Ordered Data" class="md-nav__link">
      Processing Ordered Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/sqlseqalign/" title="Sequence Alignment" class="md-nav__link">
      Sequence Alignment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/sqlextarg/" title="Selecting the Optimal" class="md-nav__link">
      Selecting the Optimal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/sqlextml/" title="Using Machine Learning" class="md-nav__link">
      Using Machine Learning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/sqlcleaning/" title="Data Cleaning" class="md-nav__link">
      Data Cleaning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/sqlexttext/" title="Using Text Analytics" class="md-nav__link">
      Using Text Analytics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/sqlextdataaccess/" title="External Data Access" class="md-nav__link">
      External Data Access
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/visualization/" title="Visualization" class="md-nav__link">
      Visualization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sclerasql/sqlmisc/" title="Miscellaneous Information" class="md-nav__link">
      Miscellaneous Information
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Interface
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Interface
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../interface/shell/" title="Command Line Shell Reference" class="md-nav__link">
      Command Line Shell Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../interface/jdbc/" title="Embedded JDBC Reference" class="md-nav__link">
      Embedded JDBC Reference
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      Sclera Extensions SDK
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Sclera Extensions SDK
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sdkintro/" title="Extensions SDK Introduction" class="md-nav__link">
      Extensions SDK Introduction
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Data Access Plugins
      </label>
    
    <a href="./" title="Data Access Plugins" class="md-nav__link md-nav__link--active">
      Data Access Plugins
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#building-data-access-connectors" class="md-nav__link">
    Building Data Access Connectors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-building-a-csv-file-connector" class="md-nav__link">
    Example: Building a CSV File Connector
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packaging-and-deploying-the-connector" class="md-nav__link">
    Packaging and Deploying the Connector
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-steps" class="md-nav__link">
    Deployment Steps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sdkextdbms/" title="Database System Plugins" class="md-nav__link">
      Database System Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sdkextml/" title="Machine Learning Library Plugins" class="md-nav__link">
      Machine Learning Library Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sdkexttext/" title="Text Analytics Library Plugins" class="md-nav__link">
      Text Analytics Library Plugins
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Acknowledgements
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Acknowledgements
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ack/dependencies/" title="Component Third Party Dependencies" class="md-nav__link">
      Component Third Party Dependencies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ack/licenses/" title="Component Licenses" class="md-nav__link">
      Component Licenses
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#building-data-access-connectors" class="md-nav__link">
    Building Data Access Connectors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-building-a-csv-file-connector" class="md-nav__link">
    Example: Building a CSV File Connector
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packaging-and-deploying-the-connector" class="md-nav__link">
    Packaging and Deploying the Connector
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-steps" class="md-nav__link">
    Deployment Steps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Data Access Plugins</h1>
                
                <p>In this document, we show how to build custom connectors to any data source. These connectors enable ingestion of data from arbitrary sources in a ScleraSQL query. You only need to format the data as rows of a table, and Sclera will take care of evaluating your SQL queries on the same -- these queries can include transforming, filtering and aggregating this data, as well as joining this data with data ingested from other connectors, or with data in tables stored in other data stores.</p>
<p><a href="../../setup/components/#sclera-csv">Sclera - CSV Connector</a> and <a href="../../setup/components/#sclera-textfiles">Sclera - Text Files Connector</a> are built using this SDK. For examples of how these connectors are used in Sclera, please refer to the <a href="../../sclerasql/sqlextdataaccess/">SQL documentation for external data access</a>.</p>
<h2 id="building-data-access-connectors">Building Data Access Connectors<a class="headerlink" href="#building-data-access-connectors" title="Permanent link">&#9668;</a></h2>
<p>To build a custom data access connector, you need to provide implementations of the following abstract classes in the SDK:</p>
<ul>
<li><a class="anchor" name="externalsourceservice"></a> <code>ExternalSourceService</code> (<a href="https://www.javadoc.io/doc/com.scleradb/sclera-core_2.13/latest/com/scleradb/external/service/ExternalSourceService.html">API Link</a>)<ul>
<li>Provides the external data source as a service to Sclera.</li>
<li>Contains an <code>id</code> that identifies this service.</li>
<li>Contains a method <code>createSource</code> that is used to create a new <a href="#externalsource"><code>ExternalSource</code> instance</a> for this service.</li>
</ul>
</li>
<li><a class="anchor" name="externalsource"></a> <code>ExternalSource</code> (<a href="https://www.javadoc.io/doc/com.scleradb/sclera-core_2.13/latest/com/scleradb/external/objects/ExternalSource.html">API Link</a>)<ul>
<li>Represents the external data source.</li>
<li>Provides the schema and other metadata about the sourced data to Sclera at compile-time.</li>
<li>Provides the <a href="#tableresult">sourced data</a> to Sclera at runtime.</li>
</ul>
</li>
<li><a class="anchor" name="tableresult"></a> <code>TableResult</code> (<a href="https://www.javadoc.io/doc/com.scleradb/sclera-core_2.13/latest/com/scleradb/sql/result/TableResult.html">API Link</a>)<ul>
<li>Represents the data sourced from the external data source.</li>
<li>Provides an iterator over the rows containing the sourced data.</li>
</ul>
</li>
</ul>
<p><a class="anchor" name="example"></a></p>
<h2 id="example-building-a-csv-file-connector">Example: Building a CSV File Connector<a class="headerlink" href="#example-building-a-csv-file-connector" title="Permanent link">&#9668;</a></h2>
<p>This section shows how to implement a lightweight clone of the <a href="../../setup/components/#sclera-csv">CSV file connector</a> using the Sclera Extensions SDK. The referenced code is available on <a href="https://github.com/scleradb/sclera-plugin-csv-lite">GitHub</a>.</p>
<p>This connector enables using data from a CSV file within a SQL query. The CSV file can be local or remote as long as it is accessible through an URL.</p>
<p>A simple SQL query that uses the connector is as follows:</p>
<pre><code>SELECT * FROM EXTERNAL CSVLITE("http://scleraviz.herokuapp.com/assets/data/tips.csv")
</code></pre>
<p>This query retrieves the CSV data in the file at the specified URL and incorporates it as a virtual table for further processing. A more complicated query could have filters, joins and aggregates on this virtual table.</p>
<p>While processing this query, Sclera comes across the <code>EXTERNAL</code> keyword, and accordingly identifies <code>"CSVLITE"</code> as an external datasource service. Consulting the <a href="https://github.com/scleradb/sclera-plugin-csv-lite/blob/master/src/main/resources/META-INF/services/com.scleradb.external.service.ExternalSourceService">service provider specification file</a>, it finds the service provider as an object of the class <code>CSVSourceService</code> (<a href="https://github.com/scleradb/sclera-plugin-csv-lite/blob/master/src/main/scala/CSVSourceService.scala">source</a>), which implements the <a href="#externalsourceservice">abstract class <code>ExternalSourceService</code></a>. (For details, see the <a href="https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html">Java Service Provider Interface documentation</a>.)</p>
<p>The class <code>CSVSourceService</code> implements the method <code>createSource</code>, as required by the <a href="#externalsourceservice">abstract class <code>ExternalSourceService</code></a>. This method takes a list of datasource parameters specified in the SQL query -- in the query above, the list consists of only one parameter, the URL, of type <code>CharConst</code>. The implementation of the method parses and validates the parameter, and uses them to create an object of the class <code>TickerSource</code>, which implements the <a href="#externalsource">abstract class <code>ExternalSource</code></a> mentioned above.</p>
<p><a class="anchor" name="serviceid"></a>The service identifier is provided by the <code>id</code> attribute. For <code>CSVSourceService</code>, the identifier is <code>"CSVLITE"</code>.</p>
<p>For the query above, Sclera calls the method <code>createSource</code> of the <code>CSVSourceService</code> object, with the URL as the parameter, and gets back a <code>CSVSource</code> object.</p>
<p>The class <code>CSVSource</code> implements the following methods and attributes, as required by the <a href="#externalsource">abstract class <code>ExternalSource</code></a>:</p>
<ul>
<li>The attribute <code>name</code> provides a user-interpretable name to this data source. In our implementation, this is taken to be the same as the service identifier.</li>
<li>The attribute <code>columns</code> provides Sclera with the schema of the output that this data source will emit at runtime. The schema contains the name of each column, and its type. This must be consistent with that provided by <code>CSVResult</code> (see below). In our implementation, the <code>CSVResult</code> object is used to provide the <code>columns</code> in <code>CSVSource</code> -- but there may be cases where this coupling might not be possible (for instance, the <code>CSVResult</code> object might get computed later at runtime), hence the redundancy.</li>
<li>The method <code>result</code> is called by Sclera at runtime, and returns an object of the class <code>CSVResult</code>, which implements the <a href="#tableresult">abstract class <code>TableResult</code></a> mentioned above.</li>
<li>The method <code>toString</code> provides a printable string, which will be used for this datasource when <a href="../../interface/shell/#compile-time-explain"><code>EXPLAIN</code> is run on a query</a> using this data source.</li>
</ul>
<p>Sclera <a href="../../intro/technical/#query-processor">plans</a> the query mentioned above taking into account the schema and result sort order provided by the <code>CSVSource</code> object. When the plan is <a href="../../intro/technical/#evaluation">evaluated</a>, the object's <code>result</code> method returns the object <code>CSVResult</code>, which retrieves the data from the URL, as discussed in a moment.</p>
<p>The class <code>CSVResult</code> implements the following methods, as required by the <a href="#tableresult">abstract class <code>TableResult</code></a>:</p>
<ul>
<li>The attribute <code>columns</code> provides Sclera with the schema of the data that this data source will emit at runtime. The schema contains the name of each column, and its type. </li>
<li>The method <code>rows</code> returns an iterator over <code>TableRow</code> objects containing the data. A <code>TableRow</code> object can be constructed from a mapping of column names to column values. The column names and data types must be consistent with that provided the attribute <code>columns</code> above.</li>
<li>The attribute <code>resultOrder</code> tells Sclera how the emitted data is sorted. This information is optional, but helps in eliminating redundant sorts on the emitted result. In our implementation, the order of rows in the source CSV data is not known, hence this attribute is an empty list.</li>
</ul>
<p>For the query above, <a href="http://commons.apache.org/proper/commons-csv/">Apache Commons CSV Library</a> is used to retrieve the CSV data from the specified URL. This data is converted into an iterator of <code>TableRow</code> instances which is returned as a part of <code>CSVResult</code>, as described above.</p>
<h2 id="packaging-and-deploying-the-connector">Packaging and Deploying the Connector<a class="headerlink" href="#packaging-and-deploying-the-connector" title="Permanent link">&#9668;</a></h2>
<p>The implementation uses <a href="http://www.scala-sbt.org">sbt</a> for building the connector <a href="http://www.scala-sbt.org/release/docs/Getting-Started/Setup.html#installing-sbt">(installation details)</a>. This is not a requirement -- any other build tool can be used instead.</p>
<h3 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&#9668;</a></h3>
<p>The implementation has a dependency on:</p>
<ul>
<li>the <a href="http://commons.apache.org/proper/commons-csv/"> Apache <code>commons-csv</code> library</a>.</li>
<li>the <a href="../../setup/components/#sclera-core"><code>"sclera-core"</code></a> and <a href="../../setup/components/#sclera-config"><code>"sclera-config"</code></a> core components. Note that these dependencies is annotated <code>"provided"</code> since these libraries will already be available in the <code>CLASSPATH</code> when this connector is run with Sclera.</li>
<li>(optional) the test framework <a href="http://www.scalatest.org/"><code>scalatest</code></a> for running the tests.</li>
</ul>
<p>see the included <a href="https://github.com/scleradb/sclera-plugin-csv-lite/blob/master/build.sbt">sbt build file</a> for details.</p>
<h3 id="deployment-steps">Deployment Steps<a class="headerlink" href="#deployment-steps" title="Permanent link">&#9668;</a></h3>
<p>The connector can be deployed simply by having its jar and all its dependencies in the <code>CLASSPATH</code>.</p>
<p>Alternatively, for a managed deployment, follow the following steps:</p>
<ul>
<li>First, publish the implementation as a package, locally or in a public artifact repository. In sbt, you can publish locally by running <a href="https://www.scala-sbt.org/1.x/docs/Publishing.html"><code>sbt publishLocal</code></a>.</li>
<li>Use <a href="../../setup/install/#plugin-management"><code>scleradmin</code></a> to install the component and its dependencies:<pre><code>&gt; scleradmin --add &lt;plugin&gt; --root &lt;sclera-root&gt;
</code></pre>
</li>
</ul>
<p>where <code>&lt;plugin&gt;</code> is the artifact identifier for your published package, and <a href="../../setup/install/#installing-sclera-core-packages-and-shell"><code>&lt;sclera-root&gt;</code></a> is the directory where Sclera is installed.</p>
<p>For example, having published the <code>"CSVLITE"</code> plugin described above as <code>com.example:sclera-plugin-csv-lite:1.0-SNAPSHOT</code>, we can deploy it as:</p>
<pre><code>&gt; scleradmin --add "com.example:sclera-plugin-csv-lite:1.0-SNAPSHOT" --root /path/to/sclera
</code></pre>
<p>The connector should now be visible to Sclera, and can be used in the queries.</p>
<p><strong>Note:</strong> Please ensure that the identifier you assign to your connector is unique -- that is, it does not conflict with the identifier of any other available <a href="#externalsourceservice"><code>ExternalSourceService</code></a> instance.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../sdkintro/" title="Extensions SDK Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Extensions SDK Introduction
              </span>
            </div>
          </a>
        
        
          <a href="../sdkextdbms/" title="Database System Plugins" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Database System Plugins
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2012 - 2020 Sclera, Inc.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/scleradb" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/scleradb" target="_blank" rel="noopener" title="twitter" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/company/sclera-inc-" target="_blank" rel="noopener" title="linkedin" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
    
  </body>
</html>